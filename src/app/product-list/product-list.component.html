<section class="header-section">
  <app-back-arrow></app-back-arrow>
  <button class="header-section__button button" [routerLink]="['add-product']">
    Add Product
  </button>
</section>
<h1 class="bold">Product List</h1>
<section class="search-bar-section">
  <div class="search-bar-section__icon">
    <fa-icon [icon]="faSearch"></fa-icon>
  </div>
  <input
    class="search-bar-section__input"
    [(ngModel)]="searchText"
    name="searchText"
    type="text"
    placeholder="Search a product"
    autocomplete="off"
  />
</section>
<section>
  <div
    class="card-section"
    infinite-scroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="1000"
    [scrollWindow]="false"
    (scrolled)="onScroll()"
  >
    <div
      *ngFor="let product of products | formulaAndNameSearch: searchText"
      class="card-container"
    >
      <div class="card-container__card default-card">
        <p>{{ product.name }}</p>
        <a
          class="card-container__card-icon"
          [routerLink]="['/products', product.id]"
        >
          <fa-icon [icon]="faReceipt"></fa-icon>
        </a>
      </div>
    </div>
    <div *ngIf="isLoading" class="loader-section">
      <div class="loader"></div>
    </div>
  </div>
</section>
